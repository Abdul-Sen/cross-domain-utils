!function(n,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("crossDomainUtils",[],r):"object"==typeof exports?exports.crossDomainUtils=r():n.crossDomainUtils=r()}("undefined"!=typeof self?self:this,function(){return function(n){var r={};function t(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:e})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=0)}([function(n,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=t(1);t.d(r,"isFileProtocol",function(){return e.z}),t.d(r,"isAboutProtocol",function(){return e.u}),t.d(r,"getParent",function(){return e.q}),t.d(r,"getOpener",function(){return e.p}),t.d(r,"canReadFromWindow",function(){return e.a}),t.d(r,"getActualDomain",function(){return e.d}),t.d(r,"getDomain",function(){return e.j}),t.d(r,"isBlankDomain",function(){return e.y}),t.d(r,"isActuallySameDomain",function(){return e.v}),t.d(r,"isSameDomain",function(){return e.G}),t.d(r,"getParents",function(){return e.r}),t.d(r,"isAncestorParent",function(){return e.x}),t.d(r,"getFrames",function(){return e.m}),t.d(r,"getAllChildFrames",function(){return e.e}),t.d(r,"getTop",function(){return e.s}),t.d(r,"getAllFramesInWindow",function(){return e.f}),t.d(r,"isTop",function(){return e.I}),t.d(r,"isFrameWindowClosed",function(){return e.A}),t.d(r,"isWindowClosed",function(){return e.K}),t.d(r,"linkFrameWindow",function(){return e.L}),t.d(r,"getUserAgent",function(){return e.t}),t.d(r,"getFrameByName",function(){return e.l}),t.d(r,"findChildFrameByName",function(){return e.b}),t.d(r,"findFrameByName",function(){return e.c}),t.d(r,"isParent",function(){return e.E}),t.d(r,"isOpener",function(){return e.D}),t.d(r,"getAncestor",function(){return e.g}),t.d(r,"getAncestors",function(){return e.h}),t.d(r,"isAncestor",function(){return e.w}),t.d(r,"isPopup",function(){return e.F}),t.d(r,"isIframe",function(){return e.C}),t.d(r,"isFullpage",function(){return e.B}),t.d(r,"getDistanceFromTop",function(){return e.i}),t.d(r,"getNthParent",function(){return e.n}),t.d(r,"getNthParentFromTop",function(){return e.o}),t.d(r,"isSameTopWindow",function(){return e.H}),t.d(r,"matchDomain",function(){return e.M}),t.d(r,"stringifyDomainPattern",function(){return e.O}),t.d(r,"getDomainFromUrl",function(){return e.k}),t.d(r,"onCloseWindow",function(){return e.N}),t.d(r,"isWindow",function(){return e.J});var o=t(2);for(var i in t.n(o),o)["isFileProtocol","isAboutProtocol","getParent","getOpener","canReadFromWindow","getActualDomain","getDomain","isBlankDomain","isActuallySameDomain","isSameDomain","getParents","isAncestorParent","getFrames","getAllChildFrames","getTop","getAllFramesInWindow","isTop","isFrameWindowClosed","isWindowClosed","linkFrameWindow","getUserAgent","getFrameByName","findChildFrameByName","findFrameByName","isParent","isOpener","getAncestor","getAncestors","isAncestor","isPopup","isIframe","isFullpage","getDistanceFromTop","getNthParent","getNthParentFromTop","isSameTopWindow","matchDomain","stringifyDomainPattern","getDomainFromUrl","onCloseWindow","isWindow","default"].indexOf(i)<0&&function(n){t.d(r,n,function(){return o[n]})}(i)},function(n,r,t){"use strict";function e(n){return"[object RegExp]"===Object.prototype.toString.call(n)}r.z=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.FILE_PROTOCOL},r.u=u,r.q=c,r.p=a,r.a=f,r.d=d,r.j=s,r.y=function(n){try{if(!n.location.href)return!0;if("about:blank"===n.location.href)return!0}catch(n){}return!1},r.v=l,r.G=m,r.r=h,r.x=w,r.m=p,r.e=g,r.s=y,r.f=v,r.I=function(n){return n===y(n)},r.A=O,r.K=P,r.L=function(n){if(function(){for(var n=0;n<F.length;n++)O(F[n])&&(F.splice(n,1),A.splice(n,1));for(var r=0;r<A.length;r++)P(A[r])&&(F.splice(r,1),A.splice(r,1))}(),n&&n.contentWindow)try{A.push(n.contentWindow),F.push(n)}catch(n){}},r.t=function(n){return(n=n||window).navigator.mockUserAgent||n.navigator.userAgent},r.l=D,r.b=C,r.c=function(n,r){var t;return(t=D(n,r))?t:C(y(n)||n,r)},r.E=function(n,r){var t=c(r);if(t)return t===n;for(var e=0,o=p(n),i=null==o?0:o.length;e<i;e++)if(o[e]===r)return!0;return!1},r.D=function(n,r){return n===a(r)},r.g=T,r.h=function(n){for(var r=[],t=n;t;)(t=T(t))&&r.push(t);return r},r.w=function(n,r){var t=T(r);if(t)return t===n;if(r===n)return!1;if(y(r)===r)return!1;for(var e=0,o=p(n),i=null==o?0:o.length;e<i;e++)if(o[e]===r)return!0;return!1},r.F=b,r.C=W,r.B=function(){return Boolean(!W()&&!b())},r.i=x,r.n=B,r.o=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return B(n,x(n)-r)},r.H=function(n,r){var t=y(n)||n,e=y(r)||r;try{if(t&&e)return t===e}catch(n){}var o=v(n),i=v(r);if(_(o,i))return!0;var u=a(t),c=a(e);return!(u&&_(v(u),i)||(c&&_(v(c),o),1))},r.M=function n(r,t){if("string"==typeof r){if("string"==typeof t)return r===o.WILDCARD||t===r;if(e(t))return!1;if(Array.isArray(t))return!1}return e(r)?e(t)?r.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(r)):!!Array.isArray(r)&&(Array.isArray(t)?JSON.stringify(r)===JSON.stringify(t):!e(t)&&r.some(function(r){return n(r,t)}))},r.O=function(n){return Array.isArray(n)?"("+n.join(" | ")+")":e(n)?"RegExp("+n.toString():n.toString()},r.k=function(n){return n.match(/^(https?|mock|file):\/\//)?n.split("/").slice(0,3).join("/"):s()},r.N=function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=void 0;return function i(){if(P(n))return o&&clearTimeout(o),r();e<=0?clearTimeout(o):(e-=t,o=setTimeout(i,t))}(),{cancel:function(){o&&clearTimeout(o)}}},r.J=function(n){try{if(n===window)return!0}catch(n){if(n&&n.message===i)return!0}try{if("[object Window]"===Object.prototype.toString.call(n))return!0}catch(n){if(n&&n.message===i)return!0}try{if(window.Window&&n instanceof window.Window)return!0}catch(n){if(n&&n.message===i)return!0}try{if(n&&n.self===n)return!0}catch(n){if(n&&n.message===i)return!0}try{if(n&&n.parent===n)return!0}catch(n){if(n&&n.message===i)return!0}try{if(n&&n.top===n)return!0}catch(n){if(n&&n.message===i)return!0}try{n&&n.__cross_domain_utils_window_check__}catch(n){return!0}return!1};var o={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},i="Call was rejected by callee.\r\n";function u(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.ABOUT_PROTOCOL}function c(n){if(n)try{if(n.parent&&n.parent!==n)return n.parent}catch(n){}}function a(n){if(n&&!c(n))try{return n.opener}catch(n){}}function f(n){try{return n&&n.location&&n.location.href,!0}catch(n){}return!1}function d(n){var r=(n=n||window).location;if(!r)throw new Error("Can not read window location");var t=r.protocol;if(!t)throw new Error("Can not read window protocol");if(t===o.FILE_PROTOCOL)return o.FILE_PROTOCOL+"//";if(t===o.ABOUT_PROTOCOL){var e=c(n);return e&&f(n)?d(e):o.ABOUT_PROTOCOL+"//"}var i=r.host;if(!i)throw new Error("Can not read window host");return t+"//"+i}function s(n){var r=d(n=n||window);return r&&n.mockDomain&&0===n.mockDomain.indexOf(o.MOCK_PROTOCOL)?n.mockDomain:r}function l(n){try{if(n===window)return!0}catch(n){}try{var r=Object.getOwnPropertyDescriptor(n,"location");if(r&&!1===r.enumerable)return!1}catch(n){}try{if(u(n)&&f(n))return!0}catch(n){}try{if(d(n)===d(window))return!0}catch(n){}return!1}function m(n){if(!l(n))return!1;try{if(n===window)return!0;if(u(n)&&f(n))return!0;if(s(window)===s(n))return!0}catch(n){}return!1}function h(n){var r=[];try{for(;n.parent!==n;)r.push(n.parent),n=n.parent}catch(n){}return r}function w(n,r){if(!n||!r)return!1;var t=c(r);return t?t===n:-1!==h(r).indexOf(n)}function p(n){var r=[],t=void 0;try{t=n.frames}catch(r){t=n}var e=void 0;try{e=t.length}catch(n){}if(0===e)return r;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=t[o]}catch(n){continue}r.push(i)}return r}for(var u=0;u<100;u++){var c=void 0;try{c=t[u]}catch(n){return r}if(!c)return r;r.push(c)}return r}function g(n){for(var r=[],t=0,e=p(n),o=null==e?0:e.length;t<o;t++){var i=e[t];r.push(i);for(var u=0,c=g(i),a=null==c?0:c.length;u<a;u++){var f=c[u];r.push(f)}}return r}function y(n){if(n){try{if(n.top)return n.top}catch(n){}if(c(n)===n)return n;try{if(w(window,n)&&window.top)return window.top}catch(n){}try{if(w(n,window)&&window.top)return window.top}catch(n){}for(var r=0,t=g(n),e=null==t?0:t.length;r<e;r++){var o=t[r];try{if(o.top)return o.top}catch(n){}if(c(o)===o)return o}}}function v(n){var r=y(n);if(!r)throw new Error("Can not determine top window");return[].concat(g(r),[r])}function O(n){if(!n.contentWindow)return!0;if(!n.parentNode)return!0;var r=n.ownerDocument;return!(!r||!r.body||r.body.contains(n))}var A=[],F=[];function P(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(n===window)return!1}catch(n){return!0}try{if(!n)return!0}catch(n){return!0}try{if(n.closed)return!0}catch(n){return!n||n.message!==i}if(r&&m(n))try{if(n.mockclosed)return!0}catch(n){}try{if(!n.parent||!n.top)return!0}catch(n){}var t=function(n,r){for(var t=0;t<n.length;t++)try{if(n[t]===r)return t}catch(n){}return-1}(A,n);if(-1!==t){var e=F[t];if(e&&O(e))return!0}return!1}function D(n,r){for(var t=p(n),e=0,o=null==t?0:t.length;e<o;e++){var i=t[e];try{if(m(i)&&i.name===r&&-1!==t.indexOf(i))return i}catch(n){}}try{if(-1!==t.indexOf(n.frames[r]))return n.frames[r]}catch(n){}try{if(-1!==t.indexOf(n[r]))return n[r]}catch(n){}}function C(n,r){var t=D(n,r);if(t)return t;for(var e=0,o=p(n),i=null==o?0:o.length;e<i;e++){var u=C(o[e],r);if(u)return u}}function T(n){return a(n=n||window)||c(n)||void 0}function b(){return Boolean(a(window))}function W(){return Boolean(c(window))}function _(n,r){for(var t=0,e=null==n?0:n.length;t<e;t++)for(var o=n[t],i=0,u=null==r?0:r.length;i<u;i++)if(o===r[i])return!0;return!1}function x(){for(var n=0,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;r;)(r=c(r))&&(n+=1);return n}function B(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=n,e=0;e<r;e++){if(!t)return;t=c(t)}return t}},function(n,r){}])});
//# sourceMappingURL=cross-domain-utils.min.js.map
//# sourceMappingURL=cross-domain-utils.min.js.map