!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("crossDomainUtils",[],t):"object"==typeof exports?exports.crossDomainUtils=t():r.crossDomainUtils=t()}("undefined"!=typeof self?self:this,function(){return function(r){var t={};function n(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=r,n.c=t,n.d=function(r,t,e){n.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:e})},n.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(t,"a",t),t},n.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},n.p="",n(n.s=0)}([function(r,t,n){"use strict";t.__esModule=!0;var e=n(1);Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})});var o=n(3);Object.keys(o).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return o[r]}})})},function(r,t,n){"use strict";t.__esModule=!0,t.isFileProtocol=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.FILE_PROTOCOL},t.isAboutProtocol=a,t.getParent=u,t.getOpener=f,t.canReadFromWindow=c,t.getActualDomain=s,t.getDomain=l,t.isBlankDomain=function(r){try{if(!r.location.href)return!0;if("about:blank"===r.location.href)return!0}catch(r){}return!1},t.isActuallySameDomain=d,t.isSameDomain=y,t.getParents=v,t.isAncestorParent=h,t.getFrames=p,t.getAllChildFrames=m,t.getTop=w,t.getAllFramesInWindow=g,t.isTop=function(r){return r===w(r)},t.isFrameWindowClosed=O,t.isWindowClosed=k,t.linkFrameWindow=function(r){if(function(){for(var r=0;r<A.length;r++)O(A[r])&&(A.splice(r,1),b.splice(r,1));for(var t=0;t<b.length;t++)k(b[t])&&(A.splice(t,1),b.splice(t,1))}(),r&&r.contentWindow)try{b.push(r.contentWindow),A.push(r)}catch(r){}},t.getUserAgent=function(r){return(r=r||window).navigator.mockUserAgent||r.navigator.userAgent},t.getFrameByName=x,t.findChildFrameByName=_,t.findFrameByName=function(r,t){var n=void 0;if(n=x(r,t))return n;return _(w(r)||r,t)},t.isParent=function(r,t){var n=u(t);if(n)return n===r;for(var e=p(r),o=Array.isArray(e),i=0,e=o?e:e[Symbol.iterator]();;){var a;if(o){if(i>=e.length)break;a=e[i++]}else{if((i=e.next()).done)break;a=i.value}var f=a;if(f===t)return!0}return!1},t.isOpener=function(r,t){return r===f(t)},t.getAncestor=P,t.getAncestors=function(r){var t=[],n=r;for(;n;)(n=P(n))&&t.push(n);return t},t.isAncestor=function(r,t){var n=P(t);if(n)return n===r;if(t===r)return!1;if(w(t)===t)return!1;for(var e=p(r),o=Array.isArray(e),i=0,e=o?e:e[Symbol.iterator]();;){var a;if(o){if(i>=e.length)break;a=e[i++]}else{if((i=e.next()).done)break;a=i.value}var u=a;if(u===t)return!0}return!1},t.isPopup=C,t.isIframe=T,t.isFullpage=function(){return Boolean(!T()&&!C())},t.getDistanceFromTop=R,t.getNthParent=S,t.getNthParentFromTop=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return S(r,R(r)-t)},t.isSameTopWindow=function(r,t){var n=w(r)||r,e=w(t)||t;try{if(n&&e)return n===e}catch(r){}var o=g(r),i=g(t);if(D(o,i))return!0;var a=f(n),u=f(e);if(a&&D(g(a),i))return!1;if(u&&D(g(u),o))return!1;return!1},t.matchDomain=function r(t,n){if("string"==typeof t){if("string"==typeof n)return t===o.WILDCARD||n===t;if((0,e.isRegex)(n))return!1;if(Array.isArray(n))return!1}if((0,e.isRegex)(t))return(0,e.isRegex)(n)?t.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(t));if(Array.isArray(t))return Array.isArray(n)?JSON.stringify(t)===JSON.stringify(n):!(0,e.isRegex)(n)&&t.some(function(t){return r(t,n)});return!1},t.stringifyDomainPattern=function(r){return Array.isArray(r)?"("+r.join(" | ")+")":(0,e.isRegex)(r)?"RegExp("+r.toString():r.toString()},t.getDomainFromUrl=function(r){var t=void 0;if(!r.match(/^(https?|mock|file):\/\//))return l();t=r;return t=t.split("/").slice(0,3).join("/")},t.onCloseWindow=function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=void 0;return function i(){if(k(r))return o&&clearTimeout(o),t();e<=0?clearTimeout(o):(e-=n,o=setTimeout(i,n))}(),{cancel:function(){o&&clearTimeout(o)}}},t.isWindow=function(r){try{if(r===window)return!0}catch(r){if(r&&r.message===i)return!0}try{if("[object Window]"===Object.prototype.toString.call(r))return!0}catch(r){if(r&&r.message===i)return!0}try{if(window.Window&&r instanceof window.Window)return!0}catch(r){if(r&&r.message===i)return!0}try{if(r&&r.self===r)return!0}catch(r){if(r&&r.message===i)return!0}try{if(r&&r.parent===r)return!0}catch(r){if(r&&r.message===i)return!0}try{if(r&&r.top===r)return!0}catch(r){if(r&&r.message===i)return!0}try{(0,e.noop)(r==r)}catch(r){return!0}try{(0,e.noop)(r&&r.__cross_domain_utils_window_check__)}catch(r){return!0}return!1};var e=n(2),o={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},i="Call was rejected by callee.\r\n";function a(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===o.ABOUT_PROTOCOL}function u(r){if(r)try{if(r.parent&&r.parent!==r)return r.parent}catch(r){}}function f(r){if(r&&!u(r))try{return r.opener}catch(r){}}function c(r){try{return(0,e.noop)(r&&r.location&&r.location.href),!0}catch(r){}return!1}function s(r){var t=(r=r||window).location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if(n===o.FILE_PROTOCOL)return o.FILE_PROTOCOL+"//";if(n===o.ABOUT_PROTOCOL){var e=u(r);return e&&c(r)?s(e):o.ABOUT_PROTOCOL+"//"}var i=t.host;if(!i)throw new Error("Can not read window host");return n+"//"+i}function l(r){var t=s(r=r||window);return t&&r.mockDomain&&0===r.mockDomain.indexOf(o.MOCK_PROTOCOL)?r.mockDomain:t}function d(r){try{if(r===window)return!0}catch(r){}try{var t=Object.getOwnPropertyDescriptor(r,"location");if(t&&!1===t.enumerable)return!1}catch(r){}try{if(a(r)&&c(r))return!0}catch(r){}try{if(s(r)===s(window))return!0}catch(r){}return!1}function y(r){if(!d(r))return!1;try{if(r===window)return!0;if(a(r)&&c(r))return!0;if(l(window)===l(r))return!0}catch(r){}return!1}function v(r){var t=[];try{for(;r.parent!==r;)t.push(r.parent),r=r.parent}catch(r){}return t}function h(r,t){if(!r||!t)return!1;var n=u(t);return n?n===r:-1!==v(t).indexOf(r)}function p(r){var t=[],n=void 0;try{n=r.frames}catch(t){n=r}var e=void 0;try{e=n.length}catch(r){}if(0===e)return t;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=n[o]}catch(r){continue}t.push(i)}return t}for(var a=0;a<100;a++){var u=void 0;try{u=n[a]}catch(r){return t}if(!u)return t;t.push(u)}return t}function m(r){var t=[],n=p(r),e=Array.isArray(n),o=0;for(n=e?n:n[Symbol.iterator]();;){var i;if(e){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;t.push(a);var u=m(a),f=Array.isArray(u),c=0;for(u=f?u:u[Symbol.iterator]();;){var s;if(f){if(c>=u.length)break;s=u[c++]}else{if((c=u.next()).done)break;s=c.value}var l=s;t.push(l)}}return t}function w(r){if(r){try{if(r.top)return r.top}catch(r){}if(u(r)===r)return r;try{if(h(window,r)&&window.top)return window.top}catch(r){}try{if(h(r,window)&&window.top)return window.top}catch(r){}var t=m(r),n=Array.isArray(t),e=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(e>=t.length)break;o=t[e++]}else{if((e=t.next()).done)break;o=e.value}var i=o;try{if(i.top)return i.top}catch(r){}if(u(i)===i)return i}}}function g(r){var t=w(r);return m(t).concat(t)}function O(r){if(!r.contentWindow)return!0;if(!r.parentNode)return!0;var t=r.ownerDocument;return!(!t||!t.body||t.body.contains(r))}var b=[],A=[];function k(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(r===window)return!1}catch(r){return!0}try{if(!r)return!0}catch(r){return!0}try{if(r.closed)return!0}catch(r){return!r||r.message!==i}if(t&&y(r))try{if(r.mockclosed)return!0}catch(r){}try{if(!r.parent||!r.top)return!0}catch(r){}try{(0,e.noop)(r==r)}catch(r){return!0}var n=function(r,t){for(var n=0;n<r.length;n++)try{if(r[n]===t)return n}catch(r){}return-1}(b,r);if(-1!==n){var o=A[n];if(o&&O(o))return!0}return!1}function x(r,t){var n=p(r),e=n,o=Array.isArray(e),i=0;for(e=o?e:e[Symbol.iterator]();;){var a;if(o){if(i>=e.length)break;a=e[i++]}else{if((i=e.next()).done)break;a=i.value}var u=a;try{if(y(u)&&u.name===t&&-1!==n.indexOf(u))return u}catch(r){}}try{if(-1!==n.indexOf(r.frames[t]))return r.frames[t]}catch(r){}try{if(-1!==n.indexOf(r[t]))return r[t]}catch(r){}}function _(r,t){var n=x(r,t);if(n)return n;var e=p(r),o=Array.isArray(e),i=0;for(e=o?e:e[Symbol.iterator]();;){var a;if(o){if(i>=e.length)break;a=e[i++]}else{if((i=e.next()).done)break;a=i.value}var u=_(a,t);if(u)return u}}function P(r){var t=f(r=r||window);if(t)return t;var n=u(r);return n||void 0}function C(){return Boolean(f(window))}function T(){return Boolean(u(window))}function D(r,t){var n=r,e=Array.isArray(n),o=0;for(n=e?n:n[Symbol.iterator]();;){var i;if(e){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i,u=t,f=Array.isArray(u),c=0;for(u=f?u:u[Symbol.iterator]();;){var s;if(f){if(c>=u.length)break;s=u[c++]}else{if((c=u.next()).done)break;s=c.value}if(a===s)return!0}}return!1}function R(){for(var r=0,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;t;)(t=u(t))&&(r+=1);return r}function S(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r,e=0;e<t;e++){if(!n)return;n=u(n)}return n}},function(r,t,n){"use strict";t.__esModule=!0,t.isRegex=function(r){return"[object RegExp]"===Object.prototype.toString.call(r)},t.noop=function(){}},function(r,t,n){"use strict"}])});
//# sourceMappingURL=cross-domain-utils.min.js.map
//# sourceMappingURL=cross-domain-utils.min.js.map