!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("crossDomainUtils",[],t):"object"==typeof exports?exports.crossDomainUtils=t():r.crossDomainUtils=t()}("undefined"!=typeof self?self:this,function(){return function(r){function t(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},t.p="",t(t.s="./src/index.js")}({"./src/index.js":function(r,t,n){"use strict";function e(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===H.FILE_PROTOCOL}function o(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).location.protocol===H.ABOUT_PROTOCOL}function i(r){if(r)try{if(r.parent&&r.parent!==r)return r.parent}catch(r){}}function a(r){if(r&&!i(r))try{return r.opener}catch(r){}}function u(r){try{return(0,G.noop)(r&&r.location&&r.location.href),!0}catch(r){}return!1}function c(r){var t=r.location;if(!t)throw new Error("Can not read window location");var n=t.protocol;if(!n)throw new Error("Can not read window protocol");if(n===H.FILE_PROTOCOL)return H.FILE_PROTOCOL+"//";if(n===H.ABOUT_PROTOCOL){var e=i(r);return e&&u(r)?c(e):H.ABOUT_PROTOCOL+"//"}var o=t.host;if(!o)throw new Error("Can not read window host");return n+"//"+o}function f(r){r=r||window;var t=c(r);return t&&r.mockDomain&&0===r.mockDomain.indexOf(H.MOCK_PROTOCOL)?r.mockDomain:t}function s(r){try{if(!r.location.href)return!0;if("about:blank"===r.location.href)return!0}catch(r){}return!1}function l(r){try{if(r===window)return!0}catch(r){}try{var t=Object.getOwnPropertyDescriptor(r,"location");if(t&&!1===t.enumerable)return!1}catch(r){}try{if(o(r)&&u(r))return!0}catch(r){}try{if(c(r)===c(window))return!0}catch(r){}return!1}function d(r){if(!l(r))return!1;try{if(r===window)return!0;if(o(r)&&u(r))return!0;if(f(window)===f(r))return!0}catch(r){}return!1}function y(r){var t=[];try{for(;r.parent!==r;)t.push(r.parent),r=r.parent}catch(r){}return t}function v(r,t){if(!r||!t)return!1;var n=i(t);return n?n===r:-1!==y(t).indexOf(r)}function h(r){var t=[],n=void 0;try{n=r.frames}catch(t){n=r}var e=void 0;try{e=n.length}catch(r){}if(0===e)return t;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=n[o]}catch(r){continue}t.push(i)}return t}for(var a=0;a<100;a++){var u=void 0;try{u=n[a]}catch(r){return t}if(!u)return t;t.push(u)}return t}function p(r){for(var t=[],n=h(r),e=Array.isArray(n),o=0,n=e?n:n[Symbol.iterator]();;){var i;if(e){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}var a=i;t.push(a);for(var u=p(a),c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var s;if(c){if(f>=u.length)break;s=u[f++]}else{if(f=u.next(),f.done)break;s=f.value}var l=s;t.push(l)}}return t}function w(r){if(r){try{if(r.top)return r.top}catch(r){}if(i(r)===r)return r;try{if(v(window,r)&&window.top)return window.top}catch(r){}try{if(v(r,window)&&window.top)return window.top}catch(r){}for(var t=p(r),n=Array.isArray(t),e=0,t=n?t:t[Symbol.iterator]();;){var o;if(n){if(e>=t.length)break;o=t[e++]}else{if(e=t.next(),e.done)break;o=e.value}var a=o;try{if(a.top)return a.top}catch(r){}if(i(a)===a)return a}}}function m(r){var t=w(r);return p(t).concat(t)}function g(r){return r===w(r)}function O(r){if(!r.contentWindow)return!0;if(!r.parentNode)return!0;var t=r.ownerDocument;return!(!t||!t.body||t.body.contains(r))}function b(r,t){for(var n=0;n<r.length;n++)try{if(r[n]===t)return n}catch(r){}return-1}function A(r){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(r===window)return!1}catch(r){return!0}try{if(!r)return!0}catch(r){return!0}try{if(r.closed)return!0}catch(r){return!r||r.message!==Q}if(t&&d(r))try{if(r.mockclosed)return!0}catch(r){}try{if(!r.parent||!r.top)return!0}catch(r){}try{(0,G.noop)(r===r)}catch(r){return!0}var n=b(V,r);if(-1!==n){var e=X[n];if(e&&O(e))return!0}return!1}function x(){for(var r=0;r<X.length;r++)O(X[r])&&(X.splice(r,1),V.splice(r,1));for(var t=0;t<V.length;t++)A(V[t])&&(X.splice(t,1),V.splice(t,1))}function k(r){if(x(),r&&r.contentWindow)try{V.push(r.contentWindow),X.push(r)}catch(r){}}function P(r){return r=r||window,r.navigator.mockUserAgent||r.navigator.userAgent}function _(r,t){for(var n=h(r),e=n,o=Array.isArray(e),i=0,e=o?e:e[Symbol.iterator]();;){var a;if(o){if(i>=e.length)break;a=e[i++]}else{if(i=e.next(),i.done)break;a=i.value}var u=a;try{if(d(u)&&u.name===t&&-1!==n.indexOf(u))return u}catch(r){}}try{if(-1!==n.indexOf(r.frames[t]))return r.frames[t]}catch(r){}try{if(-1!==n.indexOf(r[t]))return r[t]}catch(r){}}function C(r,t){var n=_(r,t);if(n)return n;for(var e=h(r),o=Array.isArray(e),i=0,e=o?e:e[Symbol.iterator]();;){var a;if(o){if(i>=e.length)break;a=e[i++]}else{if(i=e.next(),i.done)break;a=i.value}var u=a,c=C(u,t);if(c)return c}}function T(r,t){var n=void 0;return(n=_(r,t))?n:C(w(r)||r,t)}function D(r,t){var n=i(t);if(n)return n===r;for(var e=h(r),o=Array.isArray(e),a=0,e=o?e:e[Symbol.iterator]();;){var u;if(o){if(a>=e.length)break;u=e[a++]}else{if(a=e.next(),a.done)break;u=a.value}if(u===t)return!0}return!1}function R(r,t){return r===a(t)}function j(r){r=r||window;var t=a(r);if(t)return t;var n=i(r);return n||void 0}function F(r){for(var t=[],n=r;n;)(n=j(n))&&t.push(n);return t}function S(r,t){var n=j(t);if(n)return n===r;if(t===r)return!1;if(w(t)===t)return!1;for(var e=h(r),o=Array.isArray(e),i=0,e=o?e:e[Symbol.iterator]();;){var a;if(o){if(i>=e.length)break;a=e[i++]}else{if(i=e.next(),i.done)break;a=i.value}if(a===t)return!0}return!1}function L(){return Boolean(a(window))}function W(){return Boolean(i(window))}function B(){return Boolean(!W()&&!L())}function U(r,t){for(var n=r,e=Array.isArray(n),o=0,n=e?n:n[Symbol.iterator]();;){var i;if(e){if(o>=n.length)break;i=n[o++]}else{if(o=n.next(),o.done)break;i=o.value}for(var a=i,u=t,c=Array.isArray(u),f=0,u=c?u:u[Symbol.iterator]();;){var s;if(c){if(f>=u.length)break;s=u[f++]}else{if(f=u.next(),f.done)break;s=f.value}if(a===s)return!0}}return!1}function E(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=0,n=r;n;)(n=i(n))&&(t+=1);return t}function I(r){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=r,e=0;e<t;e++){if(!n)return;n=i(n)}return n}function N(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return I(r,E(r)-t)}function M(r,t){var n=w(r)||r,e=w(t)||t;try{if(n&&e)return n===e}catch(r){}var o=m(r),i=m(t);if(U(o,i))return!0;var u=a(n),c=a(e);return(!u||!U(m(u),i))&&(c&&U(m(c),o),!1)}function J(r,t){if("string"==typeof r){if("string"==typeof t)return r===H.WILDCARD||t===r;if((0,G.isRegex)(t))return!1;if(Array.isArray(t))return!1}return(0,G.isRegex)(r)?(0,G.isRegex)(t)?r.toString()===t.toString():!Array.isArray(t)&&Boolean(t.match(r)):!!Array.isArray(r)&&(Array.isArray(t)?JSON.stringify(r)===JSON.stringify(t):!(0,G.isRegex)(t)&&r.some(function(r){return J(r,t)}))}function K(r){var t=void 0;return r.match(/^(https?|mock|file):\/\//)?(t=r,t=t.split("/").slice(0,3).join("/")):f()}function q(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=void 0;return function i(){if(A(r))return o&&clearTimeout(o),t();e<=0?clearTimeout(o):(e-=n,o=setTimeout(i,n))}(),{cancel:function(){o&&clearTimeout(o)}}}function z(r){try{if(r===window)return!0}catch(r){if(r&&r.message===Q)return!0}try{if("[object Window]"===Object.prototype.toString.call(r))return!0}catch(r){if(r&&r.message===Q)return!0}try{if(window.Window&&r instanceof window.Window)return!0}catch(r){if(r&&r.message===Q)return!0}try{if(r&&r.self===r)return!0}catch(r){if(r&&r.message===Q)return!0}try{if(r&&r.parent===r)return!0}catch(r){if(r&&r.message===Q)return!0}try{if(r&&r.top===r)return!0}catch(r){if(r&&r.message===Q)return!0}try{(0,G.noop)(r===r)}catch(r){return!0}try{(0,G.noop)(r&&r.__cross_domain_utils_window_check__)}catch(r){return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.isFileProtocol=e,t.isAboutProtocol=o,t.getParent=i,t.getOpener=a,t.canReadFromWindow=u,t.getActualDomain=c,t.getDomain=f,t.isBlankDomain=s,t.isActuallySameDomain=l,t.isSameDomain=d,t.getParents=y,t.isAncestorParent=v,t.getFrames=h,t.getAllChildFrames=p,t.getTop=w,t.getAllFramesInWindow=m,t.isTop=g,t.isFrameWindowClosed=O,t.isWindowClosed=A,t.linkFrameWindow=k,t.getUserAgent=P,t.getFrameByName=_,t.findChildFrameByName=C,t.findFrameByName=T,t.isParent=D,t.isOpener=R,t.getAncestor=j,t.getAncestors=F,t.isAncestor=S,t.isPopup=L,t.isIframe=W,t.isFullpage=B,t.getDistanceFromTop=E,t.getNthParent=I,t.getNthParentFromTop=N,t.isSameTopWindow=M,t.matchDomain=J,t.getDomainFromUrl=K,t.onCloseWindow=q,t.isWindow=z;var G=n("./src/util.js"),H={MOCK_PROTOCOL:"mock:",FILE_PROTOCOL:"file:",ABOUT_PROTOCOL:"about:",WILDCARD:"*"},Q="Call was rejected by callee.\r\n",V=[],X=[]},"./src/util.js":function(r,t,n){"use strict";function e(r){return"[object RegExp]"===Object.prototype.toString.call(r)}function o(){}Object.defineProperty(t,"__esModule",{value:!0}),t.isRegex=e,t.noop=o}})});
//# sourceMappingURL=cross-domain-utils.min.js.map
//# sourceMappingURL=cross-domain-utils.min.js.map