{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 854b691e61719fab0800","webpack:///./src/constants.js","webpack:///./src/index.js","webpack:///./src/util.js","webpack:///./src/utils.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","PROTOCOL","WILDCARD","WINDOW_TYPE","MOCK","FILE","ABOUT","IFRAME","POPUP","value","__WEBPACK_IMPORTED_MODULE_0__utils__","__WEBPACK_IMPORTED_MODULE_1__types__","__WEBPACK_IMPORT_KEY__","indexOf","key","__WEBPACK_IMPORTED_MODULE_2__constants__","isRegex","item","toString","arguments","length","undefined","window","location","protocol","win","href","err","getUltimateTop","opener","getNextOpener","top","getAllWindows","frames","getAllFramesInWindow","concat","getTop","frame","iframeFrames","isFrameWindowClosed","splice","iframeWindows","isWindowClosed","cleanIframes","contentWindow","push","navigator","mockUserAgent","userAgent","getFrameByName","findChildFrameByName","frameParent","getParent","_i14","_getFrames6","getFrames","_length12","childFrame","parent","child","getOpener","results","ancestor","getAncestor","actualParent","_i16","_getFrames8","_length14","Boolean","isIframe","isPopup","getNthParent","getDistanceFromTop","win1","win2","top1","top2","allFrames1","allFrames2","anyMatch","opener1","opener2","matchDomain","pattern","origin","Array","isArray","match","JSON","stringify","some","subpattern","join","url","split","slice","getDomain","callback","delay","maxtime","Infinity","timeout","check","clearTimeout","setTimeout","cancel","obj","message","IE_WIN_ACCESS_ERROR","Window","__cross_domain_utils_window_check__","domain","isBrowser","isAboutProtocol","canReadFromWindow","getActualDomain","Error","host","mockDomain","isActuallySameDomain","desc","getOwnPropertyDescriptor","isSameDomain","getParents","result","isAncestorParent","childParent","len","getAllChildFrames","_i3","_getFrames2","_length2","_i5","_getAllChildFrames2","_length4","_i7","_getAllChildFrames4","_length6","parentNode","doc","ownerDocument","documentElement","contains","allowMock","closed","mockclosed","iframeIndex","collection","safeIndexOf","winFrames","_i10","_length8","_i12","_getFrames4","_length10","namedFrame","collection1","collection2","_i18","_length16","item1","_i20","_length18","distance"],"mappings":"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","file":"cross-domain-utils.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"crossDomainUtils\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"crossDomainUtils\"] = factory();\n\telse\n\t\troot[\"crossDomainUtils\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 854b691e61719fab0800","/* @flow */\n\nexport const PROTOCOL = {\n    MOCK:  ('mock:' : 'mock:'),\n    FILE:  ('file:' : 'file:'),\n    ABOUT: ('about:' : 'about:')\n};\n\nexport const WILDCARD = '*';\n\nexport const WINDOW_TYPE = {\n    IFRAME: ('iframe' : 'iframe'),\n    POPUP:  ('popup' : 'popup')\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","/* @flow */\n\nexport * from './utils';\nexport * from './types';\nexport * from './constants';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* @flow */\n\nexport function isRegex(item : mixed) : boolean {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function noop(...args : Array<mixed>) {\n    // pass\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","/* @flow */\n/* eslint max-lines: 0 */\n\nimport { isRegex, noop } from './util';\nimport type { CrossDomainWindowType, SameDomainWindowType } from './types';\nimport { PROTOCOL, WILDCARD } from './constants';\n\nlet IE_WIN_ACCESS_ERROR = 'Call was rejected by callee.\\r\\n';\n\nexport function isFileProtocol(win : SameDomainWindowType = window) : boolean {\n    return win.location.protocol === PROTOCOL.FILE;\n}\n\nexport function isAboutProtocol(win : SameDomainWindowType = window) : boolean {\n    return win.location.protocol === PROTOCOL.ABOUT;\n}\n\nexport function getParent(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function getOpener(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function canReadFromWindow(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n    try {\n        // $FlowFixMe\n        noop(win && win.location && win.location.href);\n        return true;\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getActualDomain(win : ?SameDomainWindowType) : string {\n\n    win = win || window;\n\n    let location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    let protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === PROTOCOL.FILE) {\n        return `${ PROTOCOL.FILE }//`;\n    }\n\n    if (protocol === PROTOCOL.ABOUT) {\n\n        let parent = getParent(win);\n        if (parent && canReadFromWindow(parent)) {\n            // $FlowFixMe\n            return getActualDomain(parent);\n        }\n\n        return `${ PROTOCOL.ABOUT }//`;\n    }\n\n    let host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${ protocol }//${ host }`;\n}\n\nexport function getDomain(win : ?SameDomainWindowType) : string {\n\n    win = win || window;\n\n    let domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(PROTOCOL.MOCK) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isBlankDomain(win : CrossDomainWindowType) : boolean {\n    try {\n        // $FlowFixMe\n        if (!win.location.href) {\n            return true;\n        }\n\n        if (win.location.href === 'about:blank') {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isActuallySameDomain(win : CrossDomainWindowType) : boolean {\n\n    try {\n        if (win === window) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        let desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        // $FlowFixMe\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : CrossDomainWindowType | SameDomainWindowType) : boolean {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n\n        if (win === window) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (isAboutProtocol(win) && canReadFromWindow(win)) {\n            return true;\n        }\n\n        // $FlowFixMe\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\n\nexport function getParents(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    let childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let result = [];\n\n    for (let frame of getFrames(win)) {\n        result.push(frame);\n\n        for (let childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win : CrossDomainWindowType) : ?CrossDomainWindowType {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window) && window.top) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (let frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\nexport function getNextOpener(win? : CrossDomainWindowType = window) : ?CrossDomainWindowType {\n    return getOpener(getTop(win) || win);\n}\n\nexport function getUltimateTop(win? : CrossDomainWindowType = window) : CrossDomainWindowType {\n    let opener = getNextOpener(win);\n\n    if (opener) {\n        return getUltimateTop(opener);\n    }\n\n    return top;\n}\n\nexport function getAllFramesInWindow(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n    let top = getTop(win);\n\n    if (!top) {\n        throw new Error(`Can not determine top window`);\n    }\n\n    return [ ...getAllChildFrames(top), top ];\n}\n\nexport function getAllWindows(win? : CrossDomainWindowType = window) : $ReadOnlyArray<CrossDomainWindowType> {\n    let frames = getAllFramesInWindow(win);\n    let opener = getNextOpener(win);\n\n    if (opener) {\n        return [ ...getAllWindows(opener), ...frames ];\n    } else {\n        return frames;\n    }\n}\n\nexport function isTop(win : CrossDomainWindowType) : boolean {\n    return win === getTop(win);\n}\n\nexport function isFrameWindowClosed(frame : HTMLIFrameElement) : boolean {\n\n    if (!frame.contentWindow) {\n        return true;\n    }\n\n    if (!frame.parentNode) {\n        return true;\n    }\n\n    let doc = frame.ownerDocument;\n\n    if (doc && doc.documentElement && !doc.documentElement.contains(frame)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction safeIndexOf<T>(collection : Array<T>, item : T) : number {\n    for (let i = 0; i < collection.length; i++) {\n\n        try {\n            if (collection[i] === item) {\n                return i;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    return -1;\n}\n\nlet iframeWindows = [];\nlet iframeFrames = [];\n\nexport function isWindowClosed(win : CrossDomainWindowType, allowMock : boolean = true) : boolean {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            // $FlowFixMe\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    // Yes, this actually happens in IE. win === win errors out when the window\n    // is from an iframe, and the iframe was removed from the page.\n\n    try {\n        noop(win === win); // eslint-disable-line no-self-compare\n    } catch (err) {\n        return true;\n    }\n\n    // IE orphaned frame\n\n    let iframeIndex = safeIndexOf(iframeWindows, win);\n\n    if (iframeIndex !== -1) {\n        let frame = iframeFrames[iframeIndex];\n\n        if (frame && isFrameWindowClosed(frame)) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction cleanIframes() {\n\n    for (let i = 0; i < iframeFrames.length; i++) {\n        if (isFrameWindowClosed(iframeFrames[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n\n    for (let i = 0; i < iframeWindows.length; i++) {\n        if (isWindowClosed(iframeWindows[i])) {\n            iframeFrames.splice(i, 1);\n            iframeWindows.splice(i, 1);\n        }\n    }\n}\n\nexport function linkFrameWindow(frame : HTMLIFrameElement) {\n\n    cleanIframes();\n\n    if (frame && frame.contentWindow) {\n        try {\n            iframeWindows.push(frame.contentWindow);\n            iframeFrames.push(frame);\n        } catch (err) {\n            // pass\n        }\n    }\n}\n\nexport function getUserAgent(win : ?SameDomainWindowType) : string {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let winFrames = getFrames(win);\n\n    for (let childFrame of winFrames) {\n        try {\n            // $FlowFixMe\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        // $FlowFixMe\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            // $FlowFixMe\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        let namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : CrossDomainWindowType, name : string) : ?CrossDomainWindowType {\n\n    let frame;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    let top = getTop(win) || win;\n\n    return findChildFrameByName(top, name);\n}\n\nexport function isParent(win : CrossDomainWindowType, frame : CrossDomainWindowType) : boolean {\n\n    let frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win : ?CrossDomainWindowType) : ?CrossDomainWindowType {\n    win = win || window;\n\n    let opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    let parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : CrossDomainWindowType) : Array<CrossDomainWindowType> {\n\n    let results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : CrossDomainWindowType, child : CrossDomainWindowType) : boolean {\n\n    let actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (let frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup() : boolean {\n    return Boolean(getOpener(window));\n}\n\nexport function isIframe() : boolean {\n    return Boolean(getParent(window));\n}\n\nexport function isFullpage() : boolean {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) : boolean {\n\n    for (let item1 of collection1) {\n        for (let item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\nexport function getDistanceFromTop(win : CrossDomainWindowType = window) : number {\n    let distance = 0;\n    let parent = win;\n\n    while (parent) {\n        parent = getParent(parent);\n        if (parent) {\n            distance += 1;\n        }\n    }\n\n    return distance;\n}\n\nexport function getNthParent(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    let parent = win;\n\n    for (let i = 0; i < n; i++) {\n        if (!parent) {\n            return;\n        }\n\n        parent = getParent(parent);\n    }\n\n    return parent;\n}\n\nexport function getNthParentFromTop(win : CrossDomainWindowType, n : number = 1) : ?CrossDomainWindowType {\n    return getNthParent(win, getDistanceFromTop(win) - n);\n}\n\nexport function isSameTopWindow(win1 : CrossDomainWindowType, win2 : CrossDomainWindowType) : boolean {\n\n    let top1 = getTop(win1) || win1;\n    let top2 = getTop(win2) || win2;\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    let allFrames1 = getAllFramesInWindow(win1);\n    let allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    let opener1 = getOpener(top1);\n    let opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n\n    return false;\n}\n\nexport function matchDomain(pattern : (string | Array<string> | RegExp), origin : (string | Array<string> | RegExp)) : boolean {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        // $FlowFixMe\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function stringifyDomainPattern(pattern : (string | Array<string> | RegExp)) : string {\n    if (Array.isArray(pattern)) {\n        return `(${ pattern.join(' | ') })`;\n    } else if (isRegex(pattern)) {\n        return `RegExp(${ pattern.toString() }`;\n    } else {\n        return pattern.toString();\n    }\n}\n\nexport function getDomainFromUrl(url : string) : string {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\nexport function onCloseWindow(win : CrossDomainWindowType, callback : Function, delay : number = 1000, maxtime : number = Infinity) : { cancel : () => void } {\n\n    let timeout;\n\n    let check = () => {\n\n        if (isWindowClosed(win)) {\n\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n\n            return callback();\n        }\n\n        if (maxtime <= 0) {\n            clearTimeout(timeout);\n        } else {\n            maxtime -= delay;\n            timeout = setTimeout(check, delay);\n        }\n    };\n\n    check();\n\n    return {\n        cancel() {\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n        }\n    };\n}\n\n// eslint-disable-next-line complexity\nexport function isWindow(obj : Object) : boolean {\n\n    try {\n        if (obj === window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (Object.prototype.toString.call(obj) === '[object Window]') {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (window.Window && obj instanceof window.Window) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.self === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.parent === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        if (obj && obj.top === obj) {\n            return true;\n        }\n    } catch (err) {\n        if (err && err.message === IE_WIN_ACCESS_ERROR) {\n            return true;\n        }\n    }\n\n    try {\n        noop(obj === obj);  // eslint-disable-line no-self-compare\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        noop(obj && obj.__cross_domain_utils_window_check__);\n\n    } catch (err) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function isBrowser() : boolean {\n    return (typeof window !== 'undefined' && typeof window.location !== 'undefined');\n}\n\nexport function isCurrentDomain(domain : string) : boolean {\n    if (!isBrowser()) {\n        return false;\n    }\n\n    return (getDomain() === domain);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}