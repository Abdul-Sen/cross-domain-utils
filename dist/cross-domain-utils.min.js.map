{"version":3,"sources":["webpack:///cross-domain-utils.min.js","webpack:///webpack/bootstrap f5cc671bb57f7c0960ed","webpack:///./src/index.js","webpack:///./src/util.js"],"names":["crossDomainUtils","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","./src/index.js","getActualDomain","win","location","Error","protocol","CONSTANTS","FILE_PROTOCOL","host","getDomain","window","domain","mockDomain","indexOf","MOCK_PROTOCOL","isActuallySameDomain","desc","getOwnPropertyDescriptor","err","isSameDomain","getParent","parent","getOpener","opener","getParents","result","push","isAncestorParent","child","childParent","getFrames","frames","len","length","frame","getAllChildFrames","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","childFrame","getAllFramesInWindow","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","getTop","top","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","isWindowClosed","allowMock","arguments","closed","message","mockclosed","getUserAgent","navigator","mockUserAgent","userAgent","getFrameByName","winFrames","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","findChildFrameByName","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","namedFrame","findFrameByName","isParent","frameParent","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","isOpener","getAncestor","getAncestors","results","ancestor","isAncestor","actualParent","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","isPopup","Boolean","isIframe","isFullpage","anyMatch","collection1","collection2","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","item1","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","isSameTopWindow","win1","win2","top1","top2","allFrames1","allFrames2","opener1","opener2","matchDomain","pattern","origin","WILDCARD","_util","isRegex","Array","isArray","toString","match","JSON","stringify","some","subpattern","getDomainFromUrl","url","split","slice","join","./src/util.js","item"],"mappings":"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I,YAFPE,QAASkJ,GAKblJ,QAASA,OAAOmJ,MAAM,KAAKC,MAAM,EAAG,GAAGC,KAAK,IAE5C,OAAOrJ,QFrjBXxB,OAAOC,eAAeZ,QAAS,cAC3BsE,OAAO,GAEXtE,SEnEgByB,+BFoEhBzB,SEzCgBiC,mBF0ChBjC,SE7BgBuC,yCF8BhBvC,SENgB2C,yBFOhB3C,SEUgB4C,mBFThB5C,SEwBgB8C,mBFvBhB9C,SE2CgBgD,qBF1ChBhD,SE4DgBmD,iCF3DhBnD,SE8EgBsD,mBF7EhBtD,SE0IgB2D,mCFzIhB3D,SEwJgB6E,yCFvJhB7E,SE4KgBwF,aF3KhBxF,SE6NgB+F,6BF5NhB/F,SEyRgBqG,yBFxRhBrG,SE8RgByG,6BF7RhBzG,SE4TgBgH,yCF3ThBhH,SE4UgBuH,+BF3UhBvH,SEwVgBwH,iBFvVhBxH,SEwWgB+H,iBFvWhB/H,SE4WgBgI,uBF3WhBhI,SE2XgBiI,yBF1XhBjI,SE2YgBoI,qBF1YhBpI,SEuagB2I,eFtahB3I,SE0agB6I,iBFzahB7I,SE6agB8I,qBF5ahB9I,SE2bgB6J,+BF1bhB7J,SE8dgBsK,uBF7dhBtK,SE2gBgBoL,iCAjnBhB,IAAAV,OAAA7K,oBAAA,iBAEMiC,WACFQ,cAAe,QACfP,cAAe,QACf0I,SAAU,MFk8BRgB,gBACA,SAAUxL,OAAQD,QAASH,qBAEjC,YG18BO,SAAS8K,SAAQe,MACpB,MAAgD,oBAAzC/K,OAAOS,UAAU0J,SAAS1K,KAAKsL,MH48B1C/K,OAAOC,eAAeZ,QAAS,cAC3BsE,OAAO,GAEXtE,SGh9BgB2K","file":"cross-domain-utils.min.js","sourcesContent":["var crossDomainUtils =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/index.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getActualDomain = getActualDomain;\nexports.getDomain = getDomain;\nexports.isActuallySameDomain = isActuallySameDomain;\nexports.isSameDomain = isSameDomain;\nexports.getParent = getParent;\nexports.getOpener = getOpener;\nexports.getParents = getParents;\nexports.isAncestorParent = isAncestorParent;\nexports.getFrames = getFrames;\nexports.getAllChildFrames = getAllChildFrames;\nexports.getAllFramesInWindow = getAllFramesInWindow;\nexports.getTop = getTop;\nexports.isWindowClosed = isWindowClosed;\nexports.getUserAgent = getUserAgent;\nexports.getFrameByName = getFrameByName;\nexports.findChildFrameByName = findChildFrameByName;\nexports.findFrameByName = findFrameByName;\nexports.isParent = isParent;\nexports.isOpener = isOpener;\nexports.getAncestor = getAncestor;\nexports.getAncestors = getAncestors;\nexports.isAncestor = isAncestor;\nexports.isPopup = isPopup;\nexports.isIframe = isIframe;\nexports.isFullpage = isFullpage;\nexports.isSameTopWindow = isSameTopWindow;\nexports.matchDomain = matchDomain;\nexports.getDomainFromUrl = getDomainFromUrl;\n\nvar _util = __webpack_require__(\"./src/util.js\");\n\nvar CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    WILDCARD: '*'\n};\n\nfunction getActualDomain(win) {\n\n    var location = win.location;\n\n    if (!location) {\n        throw new Error('Can not read window location');\n    }\n\n    var protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error('Can not read window protocol');\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return 'file://';\n    }\n\n    var host = location.host;\n\n    if (!host) {\n        throw new Error('Can not read window host');\n    }\n\n    return protocol + '//' + host;\n}\n\nfunction getDomain(win) {\n\n    win = win || window;\n\n    var domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nfunction isActuallySameDomain(win) {\n\n    try {\n        var desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nfunction isSameDomain(win) {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nfunction getParent(win) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nfunction getOpener(win) {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\nfunction getParents(win) {\n\n    var result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nfunction isAncestorParent(parent, child) {\n\n    if (!parent || !child) {\n        return false;\n    }\n\n    var childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction getFrames(win) {\n\n    var result = [];\n\n    var frames = void 0;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    var len = void 0;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (var i = 0; i < len; i++) {\n\n            var frame = void 0;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (var _i = 0; _i < 100; _i++) {\n        var _frame = void 0;\n\n        try {\n            _frame = frames[_i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!_frame) {\n            return result;\n        }\n\n        result.push(_frame);\n    }\n\n    return result;\n}\n\nfunction getAllChildFrames(win) {\n\n    var result = [];\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = getFrames(win)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var frame = _step.value;\n\n            result.push(frame);\n\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = getAllChildFrames(frame)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var childFrame = _step2.value;\n\n                    result.push(childFrame);\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2['return']) {\n                        _iterator2['return']();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator['return']) {\n                _iterator['return']();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction getAllFramesInWindow(win) {\n\n    var result = getAllChildFrames(win);\n\n    result.push(win);\n\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        for (var _iterator3 = getParents(win)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var parent = _step3.value;\n\n\n            result.push(parent);\n\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n                for (var _iterator4 = getFrames(parent)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                    var frame = _step4.value;\n\n\n                    if (result.indexOf(frame) === -1) {\n                        result.push(frame);\n                    }\n                }\n            } catch (err) {\n                _didIteratorError4 = true;\n                _iteratorError4 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion4 && _iterator4['return']) {\n                        _iterator4['return']();\n                    }\n                } finally {\n                    if (_didIteratorError4) {\n                        throw _iteratorError4;\n                    }\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3['return']) {\n                _iterator3['return']();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction getTop(win) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win)) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window)) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    var _iteratorNormalCompletion5 = true;\n    var _didIteratorError5 = false;\n    var _iteratorError5 = undefined;\n\n    try {\n        for (var _iterator5 = getAllChildFrames(win)[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var frame = _step5.value;\n\n            try {\n                if (frame.top) {\n                    return frame.top;\n                }\n            } catch (err) {\n                // pass\n            }\n\n            if (getParent(frame) === frame) {\n                return frame;\n            }\n        }\n    } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion5 && _iterator5['return']) {\n                _iterator5['return']();\n            }\n        } finally {\n            if (_didIteratorError5) {\n                throw _iteratorError5;\n            }\n        }\n    }\n}\n\nfunction isWindowClosed(win) {\n    var allowMock = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (!win) {\n            return true;\n        }\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === 'Call was rejected by callee.\\r\\n') {\n            return false;\n        }\n\n        return true;\n    }\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nfunction getUserAgent(win) {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\nfunction getFrameByName(win, name) {\n\n    var winFrames = getFrames(win);\n\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n        for (var _iterator6 = winFrames[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n            var childFrame = _step6.value;\n\n            try {\n                if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                    return childFrame;\n                }\n            } catch (err) {\n                // pass\n            }\n        }\n    } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion6 && _iterator6['return']) {\n                _iterator6['return']();\n            }\n        } finally {\n            if (_didIteratorError6) {\n                throw _iteratorError6;\n            }\n        }\n    }\n\n    try {\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nfunction findChildFrameByName(win, name) {\n\n    var frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    var _iteratorNormalCompletion7 = true;\n    var _didIteratorError7 = false;\n    var _iteratorError7 = undefined;\n\n    try {\n        for (var _iterator7 = getFrames(win)[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n            var childFrame = _step7.value;\n\n            var namedFrame = findChildFrameByName(childFrame, name);\n\n            if (namedFrame) {\n                return namedFrame;\n            }\n        }\n    } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion7 && _iterator7['return']) {\n                _iterator7['return']();\n            }\n        } finally {\n            if (_didIteratorError7) {\n                throw _iteratorError7;\n            }\n        }\n    }\n}\n\nfunction findFrameByName(win, name) {\n\n    var frame = void 0;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    return findChildFrameByName(getTop(win), name);\n}\n\nfunction isParent(win, frame) {\n\n    var frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    var _iteratorNormalCompletion8 = true;\n    var _didIteratorError8 = false;\n    var _iteratorError8 = undefined;\n\n    try {\n        for (var _iterator8 = getFrames(win)[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n            var childFrame = _step8.value;\n\n            if (childFrame === frame) {\n                return true;\n            }\n        }\n    } catch (err) {\n        _didIteratorError8 = true;\n        _iteratorError8 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion8 && _iterator8['return']) {\n                _iterator8['return']();\n            }\n        } finally {\n            if (_didIteratorError8) {\n                throw _iteratorError8;\n            }\n        }\n    }\n\n    return false;\n}\n\nfunction isOpener(parent, child) {\n\n    return parent === getOpener(child);\n}\n\nfunction getAncestor(win) {\n    win = win || window;\n\n    var opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    var parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nfunction getAncestors(win) {\n\n    var results = [];\n\n    var ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\nfunction isAncestor(parent, child) {\n\n    var actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    var _iteratorNormalCompletion9 = true;\n    var _didIteratorError9 = false;\n    var _iteratorError9 = undefined;\n\n    try {\n        for (var _iterator9 = getFrames(parent)[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n            var frame = _step9.value;\n\n            if (frame === child) {\n                return true;\n            }\n        }\n    } catch (err) {\n        _didIteratorError9 = true;\n        _iteratorError9 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion9 && _iterator9['return']) {\n                _iterator9['return']();\n            }\n        } finally {\n            if (_didIteratorError9) {\n                throw _iteratorError9;\n            }\n        }\n    }\n\n    return false;\n}\n\nfunction isPopup() {\n    return Boolean(getOpener(window));\n}\n\nfunction isIframe() {\n    return Boolean(getParent(window));\n}\n\nfunction isFullpage() {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) {\n    var _iteratorNormalCompletion10 = true;\n    var _didIteratorError10 = false;\n    var _iteratorError10 = undefined;\n\n    try {\n\n        for (var _iterator10 = collection1[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n            var item1 = _step10.value;\n            var _iteratorNormalCompletion11 = true;\n            var _didIteratorError11 = false;\n            var _iteratorError11 = undefined;\n\n            try {\n                for (var _iterator11 = collection2[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n                    var item2 = _step11.value;\n\n                    if (item1 === item2) {\n                        return true;\n                    }\n                }\n            } catch (err) {\n                _didIteratorError11 = true;\n                _iteratorError11 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion11 && _iterator11['return']) {\n                        _iterator11['return']();\n                    }\n                } finally {\n                    if (_didIteratorError11) {\n                        throw _iteratorError11;\n                    }\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError10 = true;\n        _iteratorError10 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion10 && _iterator10['return']) {\n                _iterator10['return']();\n            }\n        } finally {\n            if (_didIteratorError10) {\n                throw _iteratorError10;\n            }\n        }\n    }\n}\n\nfunction isSameTopWindow(win1, win2) {\n\n    var top1 = getTop(win1);\n    var top2 = getTop(win2);\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    var allFrames1 = getAllFramesInWindow(win1);\n    var allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    var opener1 = getOpener(top1);\n    var opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n}\n\nfunction matchDomain(pattern, origin) {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if ((0, _util.isRegex)(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if ((0, _util.isRegex)(pattern)) {\n\n        if ((0, _util.isRegex)(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if ((0, _util.isRegex)(origin)) {\n            return false;\n        }\n\n        return pattern.some(function (subpattern) {\n            return matchDomain(subpattern, origin);\n        });\n    }\n\n    return false;\n}\n\nfunction getDomainFromUrl(url) {\n\n    var domain = void 0;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\n/***/ }),\n\n/***/ \"./src/util.js\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.isRegex = isRegex;\nfunction isRegex(item) {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// cross-domain-utils.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f5cc671bb57f7c0960ed","// @flow\n\nimport { isRegex } from './util';\n\nconst CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    WILDCARD: '*'\n};\n\nexport function getActualDomain(win : any) {\n\n    let location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    let protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return 'file://';\n    }\n\n    let host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${protocol}//${host}`;\n}\n\nexport function getDomain(win : any) {\n    \n    win = win || window;\n\n    let domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isActuallySameDomain(win : any) {\n\n    try {\n        let desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : any) {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getParent(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nexport function getOpener(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\n\n\nexport function getParents(win : any) {\n\n    let result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : any, child : any) {\n    \n    if (!parent || !child) {\n        return false;\n    }\n\n    let childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : any) {\n\n    let result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : any) {\n\n    let result = [];\n\n    for (let frame of getFrames(win)) {\n        result.push(frame);\n\n        for (let childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getAllFramesInWindow(win : any) {\n\n    let result = getAllChildFrames(win);\n\n    result.push(win);\n\n    for (let parent of getParents(win)) {\n\n        result.push(parent);\n\n        for (let frame of getFrames(parent)) {\n\n            if (result.indexOf(frame) === -1) {\n                result.push(frame);\n            }\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win)) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window)) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (let frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\n\nexport function isWindowClosed(win : any, allowMock : boolean = true) {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === 'Call was rejected by callee.\\r\\n') {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n\n    return false;\n}\n\nexport function getUserAgent(win : any) {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : any, name : string) {\n\n    let winFrames = getFrames(win);\n\n    for (let childFrame of winFrames) {\n        try {\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : any, name : string) {\n\n    let frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        let namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : any, name : string) {\n\n    let frame;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    return findChildFrameByName(getTop(win), name);\n}\n\nexport function isParent(win : any, frame : any) {\n\n    let frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : any, child : any) {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win : any) {\n    win = win || window;\n\n    let opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    let parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : any) {\n\n    let results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : any, child : any) {\n\n    let actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (let frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup() {\n    return Boolean(getOpener(window));\n}\n\nexport function isIframe() {\n    return Boolean(getParent(window));\n}\n\nexport function isFullpage() {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) {\n\n    for (let item1 of collection1) {\n        for (let item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n}\n\nexport function isSameTopWindow(win1 : any, win2 : any) {\n\n    let top1 = getTop(win1);\n    let top2 = getTop(win2);\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    let allFrames1 = getAllFramesInWindow(win1);\n    let allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    let opener1 = getOpener(top1);\n    let opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n}\n\nexport function matchDomain(pattern : any, origin : any) {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function getDomainFromUrl(url : string) {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// @flow\n\nexport function isRegex(item : any) {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}