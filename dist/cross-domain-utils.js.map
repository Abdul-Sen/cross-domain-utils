{"version":3,"sources":["webpack:///webpack/bootstrap b1026b2e3efc97d20bcf","webpack:///./src/index.js","webpack:///./src/util.js"],"names":["getActualDomain","getDomain","isActuallySameDomain","isSameDomain","getParent","getOpener","getParents","isAncestorParent","getFrames","getAllChildFrames","getAllFramesInWindow","getTop","isWindowClosed","getUserAgent","getFrameByName","findChildFrameByName","findFrameByName","isParent","isOpener","getAncestor","getAncestors","isAncestor","isPopup","isIframe","isFullpage","isSameTopWindow","matchDomain","getDomainFromUrl","CONSTANTS","MOCK_PROTOCOL","FILE_PROTOCOL","WILDCARD","win","location","Error","protocol","host","window","domain","mockDomain","indexOf","desc","Object","getOwnPropertyDescriptor","enumerable","err","parent","opener","result","push","child","childParent","frames","len","length","i","frame","childFrame","top","allowMock","closed","message","mockclosed","navigator","mockUserAgent","userAgent","name","winFrames","namedFrame","frameParent","results","ancestor","actualParent","Boolean","anyMatch","collection1","collection2","item1","item2","win1","win2","top1","top2","allFrames1","allFrames2","opener1","opener2","pattern","origin","Array","isArray","toString","match","JSON","stringify","some","subpattern","url","split","slice","join","isRegex","item","prototype","call"],"mappings":"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","file":"cross-domain-utils.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b1026b2e3efc97d20bcf","// @flow\n\nimport { isRegex } from './util';\n\nconst CONSTANTS = {\n    MOCK_PROTOCOL: 'mock:',\n    FILE_PROTOCOL: 'file:',\n    WILDCARD: '*'\n};\n\nexport function getActualDomain(win : any) {\n\n    let location = win.location;\n\n    if (!location) {\n        throw new Error(`Can not read window location`);\n    }\n\n    let protocol = location.protocol;\n\n    if (!protocol) {\n        throw new Error(`Can not read window protocol`);\n    }\n\n    if (protocol === CONSTANTS.FILE_PROTOCOL) {\n        return 'file://';\n    }\n\n    let host = location.host;\n\n    if (!host) {\n        throw new Error(`Can not read window host`);\n    }\n\n    return `${protocol}//${host}`;\n}\n\nexport function getDomain(win : any) {\n    \n    win = win || window;\n\n    let domain = getActualDomain(win);\n\n    if (domain && win.mockDomain && win.mockDomain.indexOf(CONSTANTS.MOCK_PROTOCOL) === 0) {\n        return win.mockDomain;\n    }\n\n    return domain;\n}\n\nexport function isActuallySameDomain(win : any) {\n\n    try {\n        let desc = Object.getOwnPropertyDescriptor(win, 'location');\n\n        if (desc && desc.enumerable === false) {\n            return false;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (getActualDomain(win) === getActualDomain(window)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function isSameDomain(win : any) {\n\n    if (!isActuallySameDomain(win)) {\n        return false;\n    }\n\n    try {\n        if (getDomain(window) === getDomain(win)) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    return false;\n}\n\nexport function getParent(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.parent && win.parent !== win) {\n            return win.parent;\n        }\n    } catch (err) {\n        return;\n    }\n}\n\nexport function getOpener(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    // Make sure we're not actually an iframe which has had window.open() called on us\n    if (getParent(win)) {\n        return;\n    }\n\n    try {\n        return win.opener;\n    } catch (err) {\n        return;\n    }\n}\n\n\n\nexport function getParents(win : any) {\n\n    let result = [];\n\n    try {\n\n        while (win.parent !== win) {\n            result.push(win.parent);\n            win = win.parent;\n        }\n\n    } catch (err) {\n        // pass\n    }\n\n    return result;\n}\n\nexport function isAncestorParent(parent : any, child : any) {\n    \n    if (!parent || !child) {\n        return false;\n    }\n\n    let childParent = getParent(child);\n\n    if (childParent) {\n        return childParent === parent;\n    }\n\n    if (getParents(child).indexOf(parent) !== -1) {\n        return true;\n    }\n\n    return false;\n}\n\nexport function getFrames(win : any) {\n\n    let result = [];\n\n    let frames;\n\n    try {\n        frames = win.frames;\n    } catch (err) {\n        frames = win;\n    }\n\n    let len;\n\n    try {\n        len = frames.length;\n    } catch (err) {\n        // pass\n    }\n\n    if (len === 0) {\n        return result;\n    }\n\n    if (len) {\n        for (let i = 0; i < len; i++) {\n\n            let frame;\n\n            try {\n                frame = frames[i];\n            } catch (err) {\n                continue;\n            }\n\n            result.push(frame);\n        }\n\n        return result;\n    }\n\n    for (let i = 0; i < 100; i++) {\n        let frame;\n\n        try {\n            frame = frames[i];\n        } catch (err) {\n            return result;\n        }\n\n        if (!frame) {\n            return result;\n        }\n\n        result.push(frame);\n    }\n\n    return result;\n}\n\n\nexport function getAllChildFrames(win : any) {\n\n    let result = [];\n\n    for (let frame of getFrames(win)) {\n        result.push(frame);\n\n        for (let childFrame of getAllChildFrames(frame)) {\n            result.push(childFrame);\n        }\n    }\n\n    return result;\n}\n\nexport function getAllFramesInWindow(win : any) {\n\n    let result = getAllChildFrames(win);\n\n    result.push(win);\n\n    for (let parent of getParents(win)) {\n\n        result.push(parent);\n\n        for (let frame of getFrames(parent)) {\n\n            if (result.indexOf(frame) === -1) {\n                result.push(frame);\n            }\n        }\n    }\n\n    return result;\n}\n\nexport function getTop(win : any) {\n\n    if (!win) {\n        return;\n    }\n\n    try {\n        if (win.top) {\n            return win.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    if (getParent(win) === win) {\n        return win;\n    }\n\n    try {\n        if (isAncestorParent(window, win)) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (isAncestorParent(win, window)) {\n            return window.top;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    for (let frame of getAllChildFrames(win)) {\n        try {\n            if (frame.top) {\n                return frame.top;\n            }\n        } catch (err) {\n            // pass\n        }\n\n        if (getParent(frame) === frame) {\n            return frame;\n        }\n    }\n}\n\n\nexport function isWindowClosed(win : any, allowMock : boolean = true) {\n\n    try {\n        if (win === window) {\n            return false;\n        }\n    } catch (err) {\n        return true;\n    }\n\n\n    try {\n        if (!win) {\n            return true;\n        }\n\n    } catch (err) {\n        return true;\n    }\n\n    try {\n        if (win.closed) {\n            return true;\n        }\n\n    } catch (err) {\n\n        // I love you so much IE\n\n        if (err && err.message === 'Call was rejected by callee.\\r\\n') {\n            return false;\n        }\n\n        return true;\n    }\n\n\n    if (allowMock && isSameDomain(win)) {\n        try {\n            if (win.mockclosed) {\n                return true;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    // Mobile safari\n\n    try {\n        if (!win.parent || !win.top) {\n            return true;\n        }\n    } catch (err) {\n        // pass\n    }\n\n\n    return false;\n}\n\nexport function getUserAgent(win : any) {\n    win = win || window;\n    return win.navigator.mockUserAgent || win.navigator.userAgent;\n}\n\n\nexport function getFrameByName(win : any, name : string) {\n\n    let winFrames = getFrames(win);\n\n    for (let childFrame of winFrames) {\n        try {\n            if (isSameDomain(childFrame) && childFrame.name === name && winFrames.indexOf(childFrame) !== -1) {\n                return childFrame;\n            }\n        } catch (err) {\n            // pass\n        }\n    }\n\n    try {\n        if (winFrames.indexOf(win.frames[name]) !== -1) {\n            return win.frames[name];\n        }\n    } catch (err) {\n        // pass\n    }\n\n    try {\n        if (winFrames.indexOf(win[name]) !== -1) {\n            return win[name];\n        }\n    } catch (err) {\n        // pass\n    }\n}\n\nexport function findChildFrameByName(win : any, name : string) {\n\n    let frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        let namedFrame = findChildFrameByName(childFrame, name);\n\n        if (namedFrame) {\n            return namedFrame;\n        }\n    }\n}\n\nexport function findFrameByName(win : any, name : string) {\n\n    let frame;\n\n    frame = getFrameByName(win, name);\n\n    if (frame) {\n        return frame;\n    }\n\n    return findChildFrameByName(getTop(win), name);\n}\n\nexport function isParent(win : any, frame : any) {\n\n    let frameParent = getParent(frame);\n\n    if (frameParent) {\n        return frameParent === win;\n    }\n\n    for (let childFrame of getFrames(win)) {\n        if (childFrame === frame) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isOpener(parent : any, child : any) {\n\n    return parent === getOpener(child);\n}\n\nexport function getAncestor(win : any) {\n    win = win || window;\n\n    let opener = getOpener(win);\n\n    if (opener) {\n        return opener;\n    }\n\n    let parent = getParent(win);\n\n    if (parent) {\n        return parent;\n    }\n}\n\nexport function getAncestors(win : any) {\n\n    let results = [];\n\n    let ancestor = win;\n\n    while (ancestor) {\n        ancestor = getAncestor(ancestor);\n        if (ancestor) {\n            results.push(ancestor);\n        }\n    }\n\n    return results;\n}\n\n\nexport function isAncestor(parent : any, child : any) {\n\n    let actualParent = getAncestor(child);\n\n    if (actualParent) {\n        if (actualParent === parent) {\n            return true;\n        }\n\n        return false;\n    }\n\n    if (child === parent) {\n        return false;\n    }\n\n    if (getTop(child) === child) {\n        return false;\n    }\n\n    for (let frame of getFrames(parent)) {\n        if (frame === child) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function isPopup() {\n    return Boolean(getOpener(window));\n}\n\nexport function isIframe() {\n    return Boolean(getParent(window));\n}\n\nexport function isFullpage() {\n    return Boolean(!isIframe() && !isPopup());\n}\n\nfunction anyMatch(collection1, collection2) {\n\n    for (let item1 of collection1) {\n        for (let item2 of collection2) {\n            if (item1 === item2) {\n                return true;\n            }\n        }\n    }\n}\n\nexport function isSameTopWindow(win1 : any, win2 : any) {\n\n    let top1 = getTop(win1);\n    let top2 = getTop(win2);\n\n    try {\n        if (top1 && top2) {\n            if (top1 === top2) {\n                return true;\n            }\n\n            return false;\n        }\n    } catch (err) {\n        // pass\n    }\n\n    let allFrames1 = getAllFramesInWindow(win1);\n    let allFrames2 = getAllFramesInWindow(win2);\n\n    if (anyMatch(allFrames1, allFrames2)) {\n        return true;\n    }\n\n    let opener1 = getOpener(top1);\n    let opener2 = getOpener(top2);\n\n    if (opener1 && anyMatch(getAllFramesInWindow(opener1), allFrames2)) {\n        return false;\n    }\n\n    if (opener2 && anyMatch(getAllFramesInWindow(opener2), allFrames1)) {\n        return false;\n    }\n}\n\nexport function matchDomain(pattern : any, origin : any) {\n\n    if (typeof pattern === 'string') {\n\n        if (typeof origin === 'string') {\n            return pattern === CONSTANTS.WILDCARD || origin === pattern;\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n    }\n\n    if (isRegex(pattern)) {\n\n        if (isRegex(origin)) {\n            return pattern.toString() === origin.toString();\n        }\n\n        if (Array.isArray(origin)) {\n            return false;\n        }\n\n        return Boolean(origin.match(pattern));\n    }\n\n    if (Array.isArray(pattern)) {\n\n        if (Array.isArray(origin)) {\n            return JSON.stringify(pattern) === JSON.stringify(origin);\n        }\n\n        if (isRegex(origin)) {\n            return false;\n        }\n\n        return pattern.some(subpattern => matchDomain(subpattern, origin));\n    }\n\n    return false;\n}\n\nexport function getDomainFromUrl(url : string) {\n\n    let domain;\n\n    if (url.match(/^(https?|mock|file):\\/\\//)) {\n        domain = url;\n    } else {\n        return getDomain();\n    }\n\n    domain = domain.split('/').slice(0, 3).join('/');\n\n    return domain;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// @flow\n\nexport function isRegex(item : any) {\n    return Object.prototype.toString.call(item) === '[object RegExp]';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}